<form [formGroup]="form" (ngSubmit)="onHandleUpdate()">
  <div class="container">
    <h2>Edit Room</h2>
    @if(roomStore.error()) {
    <div class="error">{{ roomStore.error() }}</div>
    }
    <!-- <div *ngIf="success" class="success">{{ success }}</div> -->
    <div class="room-form">
      <div class="form-group">
        <label>Image Url</label>
        <select formControlName="imageUrl">
          <option value="">Select a room type</option>
          @for (imageUrl of imagesUrls; track $index) {
          <option [value]="imageUrl">
            {{ imageUrl }}
          </option>
          }
        </select>
        @if(hasError("imageUrl", "required")){
        <div class="error-message">RoomType is required.</div>
        }
      </div>
      <div class="form-group">
        <label>Room Type</label>
        <select formControlName="roomType">
          <option value="">Select a room type</option>
          @for (type of roomStore.roomTypes(); track $index) {
          <option [value]="type">
            {{ type }}
          </option>
          }
        </select>
        @if(hasError("roomType", "required")){
        <div class="error-message">RoomType is required.</div>
        }
      </div>
      <div class="form-group">
        <label>Room Price</label>
        <input type="number" formControlName="pricePerNight" />
        @if(hasError("pricePerNight", "required")){
        <div class="error-message">PricePerNight is required.</div>
        }
      </div>
      <div class="form-group">
        <label>Room Number</label>
        <input type="text" formControlName="roomNumber" />
        @if(hasError("roomNumber", "required")){
        <div class="error-message">RoomNumber is required.</div>
        }
      </div>
      <div class="form-group">
        <label>Room Capacity</label>
        <input type="number" formControlName="capacity" />
        @if(hasError("capacity", "required")){
        <div class="error-message">Capacity is required.</div>
        }
      </div>
      <div class="form-group">
        <label>Room Description</label>
        <textarea formControlName="description"></textarea>
        @if(hasError("description", "required")){
        <div class="error-message">Description is required.</div>
        }
      </div>
      <div class="form-actions">
        <button type="submit">Update Room</button>
        <button type="button" class="delete" (click)="onHandleDelete()">
          Delete Room
        </button>
      </div>
    </div>
  </div>
</form>
